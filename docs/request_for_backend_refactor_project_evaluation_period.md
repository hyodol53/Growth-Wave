# 백엔드 팀 요청: 평가 기간-프로젝트 관계 재정립

## 1. 요청 배경

현재 시스템의 '평가 기간'과 '프로젝트'는 독립적인 날짜(period)를 기준으로 암묵적인 관계를 맺고 있어, 다음과 같은 문제점이 식별되었습니다.

- **데이터 모호성:** 최종 평가 결과 계산 시, 특정 평가 기간 내에 어떤 프로젝트가 포함되어야 하는지 명확하게 식별하기 어렵습니다. 프로젝트의 시작일/종료일이 평가 기간과 걸쳐있거나, 여러 평가 기간에 중첩될 경우 데이터 정합성 문제가 발생할 수 있습니다.
- **로직 복잡성 증가:** 날짜 범위를 기반으로 포함 여부를 계산하는 로직은 복잡하며, 향후 유지보수를 어렵게 만듭니다.
- **직관적이지 않은 UX:** 사용자가 평가 관련 작업을 수행할 때, '평가 기간'을 먼저 선택하고 해당 기간에 속한 프로젝트를 조회/관리하는 흐름이 자연스럽지만 현재 구조로는 구현이 어렵습니다.

## 2. 제안 내용

이러한 문제들을 해결하기 위해, 프로젝트 생성 시점에 **특정 '평가 기간'을 명시적으로 선택하여 귀속시키는 방식**으로 데이터 모델과 API를 변경할 것을 제안합니다.

- **변경 핵심:** 프로젝트의 `period` 필드를 없애고, `evaluation_period_id` 외래 키(Foreign Key)를 추가하여 `EvaluationPeriod`와 직접적인 관계를 맺도록 합니다.

## 3. 상세 변경 요청 사항

### 3.1. 데이터베이스 스키마 변경

- **`Project` 모델 (테이블):**
    1.  `evaluation_period_id` 필드 (Integer, Foreign Key)를 추가합니다.
        - 이 필드는 `evaluation_periods` 테이블의 `id`를 참조합니다.
        - `nullable=False`로 설정하여 모든 프로젝트가 반드시 하나의 평가 기간에 속하도록 강제합니다.
    2.  기존의 `start_date`, `end_date` 필드는 프로젝트 자체의 생명주기 정보로 유지하되, 평가 기간과의 연결고리 역할은 `evaluation_period_id`가 대체합니다.

### 3.2. API 스키마 및 로직 변경

- **프로젝트 생성 `POST /api/v1/projects`:**
    - **Request Body:** `evaluation_period_id` (int) 필드를 필수로 추가해야 합니다.
- **프로젝트 조회 `GET /api/v1/projects`:**
    - **Query Parameter:** `evaluation_period_id` (int)를 추가하여, 특정 평가 기간에 속한 프로젝트 목록만 필터링하는 기능을 제공해야 합니다.
- **기타 로직 수정:**
    - 평가 점수 계산, 등급 산출, 이력 조회 등 '평가 기간'과 관련된 모든 백엔드 로직에서 프로젝트를 조회할 때, 날짜 범위를 비교하는 대신 `evaluation_period_id`를 기준으로 필터링하도록 수정이 필요합니다.

## 4. 기대 효과

- 데이터 관계의 명확성 확보 및 정합성 향상
- 관련 비즈니스 로직 단순화 및 유지보수성 증대
- '평가 기간 중심'의 직관적인 UX 구현 기반 마련

위 내용에 대한 검토 및 적용을 부탁드립니다. API 명세가 업데이트되면 프론트엔드 개발을 진행하겠습니다.
