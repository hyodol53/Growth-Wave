# Task 6.6: 평가 결과 및 이력 조회 UI 개발

`WORK_PLAN.md`의 **Task 6.6** 요구사항에 따라, 사용자가 자신의 과거 평가 결과와 프로젝트 이력을 조회할 수 있는 프론트엔드 UI 개발을 완료했습니다.

## 1. 라우팅 및 네비게이션 설정

- **페이지 생성**: `frontend/src/pages/HistoryPage.tsx` 컴포넌트를 새로 생성했습니다.
- **경로 추가**: `App.tsx`에 모든 로그인한 사용자가 접근할 수 있는 `/history` 경로를 추가했습니다.
- **메뉴 추가**: `Layout.tsx`의 메인 네비게이션 메뉴에 'My History' 항목을 추가하여 사용자가 쉽게 접근할 수 있도록 했습니다.

## 2. API 연동 및 데이터 처리

- **API 호출**: 페이지 로딩 시 `Promise.all`을 사용하여 `getUserHistory`와 `auth.getCurrentUser` API를 병렬로 호출합니다. 이를 통해 사용자의 전체 평가 이력과 현재 역할(role) 정보를 동시에 가져옵니다.
- **역할 기반 데이터 필터링**: `FR-A-5.x` 요구사항을 준수하기 위해, API로부터 받은 데이터를 프론트엔드에서 사용자의 역할에 따라 조건부로 렌더링하도록 구현했습니다.
    - **관리자/실장 (`admin`, `dept_head`)**: 최종 등급과 더불어 동료, PM, 정성 평가 점수 및 최종 총점 등 모든 상세 점수를 볼 수 있습니다.
    - **일반 사용자**: 자신의 최종 등급과 PM 평가 점수만 볼 수 있으며, 다른 민감한 점수 정보는 UI에 표시되지 않습니다.

## 3. 이력 조회 페이지 UI 구현 (`HistoryPage.tsx`)

- **Accordion UI**: MUI의 `Accordion` 컴포넌트를 사용하여 각 평가 기간(`2025-H1`, `2024-H2` 등)별로 결과를 그룹화하여 보여줍니다. 가장 최근의 평가 기간이 기본적으로 펼쳐져 있도록 설정하여 사용자 편의성을 높였습니다.
- **상세 정보 표시**: 각 Accordion 내부에는 'Evaluation Result'와 'Projects' 두 개의 섹션으로 나누어 정보를 명확하게 전달합니다.
    - **Evaluation Result**: 위에서 설명한 역할 기반 규칙에 따라 평가 등급 및 점수를 표시합니다.
    - **Projects**: 해당 평가 기간에 참여했던 프로젝트 목록과 각 프로젝트의 참여 비중(%)을 보여줍니다.
- **상태 관리**: 데이터 로딩, 오류 발생, 데이터 없음 등 다양한 상태에 대한 UI(로딩 스피너, 에러 메시지 등)를 구현하여 사용자 경험을 개선했습니다.

## 결론

이로써 모든 사용자가 자신의 역할에 맞는 권한 내에서 과거 평가 이력을 체계적으로 조회할 수 있는 UI 기능 개발이 완료되었습니다. Task 6.6이 성공적으로 마무리되었습니다.
